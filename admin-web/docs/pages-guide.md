# ç®¡ç†ç«¯é¡µé¢ä½¿ç”¨æŒ‡å—

## ğŸ“‹ å·²å®ç°åŠŸèƒ½

### 1. ç”¨æˆ·ç®¡ç† (`/system/user`)
- âœ… ç”¨æˆ·åˆ—è¡¨å±•ç¤º
- âœ… æœç´¢(ç”¨æˆ·å/çœŸå®å§“å)
- âœ… æ–°å¢ç”¨æˆ·(Drawer è¡¨å•)
- âœ… ç¼–è¾‘ç”¨æˆ·(Drawer è¡¨å•)
- âœ… ç¦ç”¨/å¯ç”¨ç”¨æˆ·
- âœ… é‡ç½®å¯†ç 
- âœ… åˆ†é¡µåŠŸèƒ½

### 2. è§’è‰²ç®¡ç† (`/system/role`)
- âœ… è§’è‰²åˆ—è¡¨å±•ç¤º
- âœ… æ–°å¢è§’è‰²(Drawer è¡¨å•)
- âœ… ç¼–è¾‘è§’è‰²(Drawer è¡¨å•)
- âœ… åˆ é™¤è§’è‰²
- âœ… ç»‘å®šæƒé™ç‚¹(Tree é€‰æ‹©)
- âœ… ç»‘å®šèœå•(Tree é€‰æ‹©)

### 3. æƒé™ç‚¹ç®¡ç† (`/system/permission`)
- âœ… æƒé™åˆ—è¡¨å±•ç¤º
- âœ… æ–°å¢æƒé™(Drawer è¡¨å•)
- âœ… ç¼–è¾‘æƒé™(Drawer è¡¨å•)
- âœ… åˆ é™¤æƒé™
- âœ… æƒé™ç±»å‹(MENU/BUTTON/API)

### 4. èœå•ç®¡ç† (`/system/menu`)
- âœ… èœå•æ ‘è¡¨æ ¼å±•ç¤º
- âœ… æ–°å¢èœå•(Drawer è¡¨å•)
- âœ… æ–°å¢å­èœå•
- âœ… ç¼–è¾‘èœå•(Drawer è¡¨å•)
- âœ… åˆ é™¤èœå•(çº§è”åˆ é™¤)
- âœ… æ’åºè®¾ç½®
- âœ… æ˜¾ç¤º/éšè—åˆ‡æ¢

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ææ¡ä»¶

1. **åç«¯æœåŠ¡å·²å¯åŠ¨**
2. **å·²åˆå§‹åŒ–æ•°æ®**:
```bash
cd server
python scripts/seed_admin.py
python scripts/seed_permissions.py
python scripts/seed_menus.py
```

### å¯åŠ¨å‰ç«¯

```bash
cd admin-web
npm install
npm run dev
```

è®¿é—®: http://localhost:5173

---

## âœ… åŠŸèƒ½æµ‹è¯•

### 1. ç”¨æˆ·ç®¡ç†æµ‹è¯•

#### 1.1 æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨
1. ç™»å½•ç³»ç»Ÿ(<ADMIN_USERNAME>/<ADMIN_PASSWORD>)
2. ç‚¹å‡»å·¦ä¾§èœå•"ç³»ç»Ÿç®¡ç†" â†’ "ç”¨æˆ·ç®¡ç†"
3. æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨

#### 1.2 æ–°å¢ç”¨æˆ·
1. ç‚¹å‡»"æ–°å¢ç”¨æˆ·"æŒ‰é’®
2. å¡«å†™è¡¨å•:
   - ç”¨æˆ·å: test_user
   - çœŸå®å§“å: æµ‹è¯•ç”¨æˆ·
   - æ‰‹æœºå·: 13800138000
   - é‚®ç®±: test@example.com
   - å¯†ç : 123456
3. ç‚¹å‡»"ç¡®å®š"
4. éªŒè¯ç”¨æˆ·åˆ›å»ºæˆåŠŸ

#### 1.3 ç¼–è¾‘ç”¨æˆ·
1. ç‚¹å‡»ç”¨æˆ·åˆ—è¡¨ä¸­çš„"ç¼–è¾‘"æŒ‰é’®
2. ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯
3. ç‚¹å‡»"ç¡®å®š"
4. éªŒè¯æ›´æ–°æˆåŠŸ

#### 1.4 é‡ç½®å¯†ç 
1. ç‚¹å‡»"é‡ç½®å¯†ç "æŒ‰é’®
2. è¾“å…¥æ–°å¯†ç 
3. éªŒè¯å¯†ç é‡ç½®æˆåŠŸ

#### 1.5 ç¦ç”¨/å¯ç”¨ç”¨æˆ·
1. ç‚¹å‡»"ç¦ç”¨"æŒ‰é’®
2. ç¡®è®¤æ“ä½œ
3. éªŒè¯ç”¨æˆ·çŠ¶æ€å˜æ›´

### 2. è§’è‰²ç®¡ç†æµ‹è¯•

#### 2.1 æ–°å¢è§’è‰²
1. è¿›å…¥"è§’è‰²ç®¡ç†"é¡µé¢
2. ç‚¹å‡»"æ–°å¢è§’è‰²"
3. å¡«å†™è¡¨å•:
   - è§’è‰²åç§°: æµ‹è¯•è§’è‰²
   - è§’è‰²ç¼–ç : TEST_ROLE
   - æè¿°: æµ‹è¯•è§’è‰²æè¿°
4. ç‚¹å‡»"ç¡®å®š"

#### 2.2 ç»‘å®šæƒé™
1. ç‚¹å‡»"ç»‘å®šæƒé™"æŒ‰é’®
2. åœ¨æƒé™æ ‘ä¸­å‹¾é€‰æƒé™
3. ç‚¹å‡»"ç¡®å®š"
4. éªŒè¯æƒé™ç»‘å®šæˆåŠŸ

#### 2.3 ç»‘å®šèœå•
1. ç‚¹å‡»"ç»‘å®šèœå•"æŒ‰é’®
2. åœ¨èœå•æ ‘ä¸­å‹¾é€‰èœå•
3. ç‚¹å‡»"ç¡®å®š"
4. éªŒè¯èœå•ç»‘å®šæˆåŠŸ

### 3. æƒé™ç‚¹ç®¡ç†æµ‹è¯•

#### 3.1 æ–°å¢æƒé™
1. è¿›å…¥"æƒé™ç®¡ç†"é¡µé¢
2. ç‚¹å‡»"æ–°å¢æƒé™"
3. å¡«å†™è¡¨å•:
   - æƒé™åç§°: æµ‹è¯•æƒé™
   - æƒé™ç¼–ç : sys:test:view
   - ç±»å‹: API
   - æè¿°: æµ‹è¯•æƒé™æè¿°
4. ç‚¹å‡»"ç¡®å®š"

### 4. èœå•ç®¡ç†æµ‹è¯•

#### 4.1 æ–°å¢èœå•
1. è¿›å…¥"èœå•ç®¡ç†"é¡µé¢
2. ç‚¹å‡»"æ–°å¢èœå•"
3. å¡«å†™è¡¨å•:
   - èœå•æ ‡é¢˜: æµ‹è¯•èœå•
   - è·¯ç”±åç§°: TestMenu
   - è·¯ç”±è·¯å¾„: /test
   - ç»„ä»¶è·¯å¾„: views/test/index.vue
   - å›¾æ ‡: Document
   - æ’åº: 10
4. ç‚¹å‡»"ç¡®å®š"

#### 4.2 æ–°å¢å­èœå•
1. ç‚¹å‡»æŸä¸ªèœå•çš„"æ–°å¢å­èœå•"æŒ‰é’®
2. å¡«å†™è¡¨å•
3. éªŒè¯å­èœå•åˆ›å»ºæˆåŠŸ

---

## ğŸ¨ é¡µé¢è®¾è®¡è¯´æ˜

### ç»Ÿä¸€é£æ ¼

- **Element Plus**: æ‰€æœ‰ç»„ä»¶ä½¿ç”¨ Element Plus
- **Drawer è¡¨å•**: æ‰€æœ‰æ–°å¢/ç¼–è¾‘ä½¿ç”¨ Drawer
- **é¢œè‰²è§„èŒƒ**:
  - ä¸»è‰²: #409EFF(è“è‰²)
  - æˆåŠŸ: #67C23A(ç»¿è‰²)
  - è­¦å‘Š: #E6A23C(æ©™è‰²)
  - å±é™©: #F56C6C(çº¢è‰²)

### å¸ƒå±€ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœç´¢æ  + æ“ä½œæŒ‰é’®                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  æ•°æ®è¡¨æ ¼                            â”‚
â”‚                                     â”‚
â”‚  åˆ†é¡µ                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Drawer è¡¨å•

- å®½åº¦: 600px
- ä½ç½®: å³ä¾§
- åº•éƒ¨: å–æ¶ˆ + ç¡®å®šæŒ‰é’®
- éªŒè¯: å¿…å¡«é¡¹æ ‡çº¢

---

## ğŸ”§ è·¯ç”±ä¸èœå•é…ç½®

### è·¯ç”±é…ç½®æ–¹å¼

**åç«¯è¿”å›èœå•æ ¼å¼**:
```json
{
  "id": 10,
  "title": "ç”¨æˆ·ç®¡ç†",
  "name": "User",
  "path": "/system/user",
  "component": "views/system/user/index.vue",
  "meta": {
    "icon": "User",
    "title": "ç”¨æˆ·ç®¡ç†",
    "hidden": false,
    "keepAlive": true
  }
}
```

**å‰ç«¯åŠ¨æ€åŠ è½½**:
```javascript
// router/index.js ä¸­çš„ menuToRoutes å‡½æ•°
function menuToRoutes(menus) {
  return menus.map(menu => ({
    path: menu.path,
    name: menu.name,
    component: () => import(`@/views/${menu.component}`),
    meta: menu.meta,
    children: menu.children?.map(menuToRoutes)
  }))
}
```

### ç»„ä»¶è·¯å¾„çº¦å®š

| èœå• | ç»„ä»¶è·¯å¾„ |
|---|---|
| ç”¨æˆ·ç®¡ç† | `views/system/user/index.vue` |
| è§’è‰²ç®¡ç† | `views/system/role/index.vue` |
| æƒé™ç®¡ç† | `views/system/permission/index.vue` |
| èœå•ç®¡ç† | `views/system/menu/index.vue` |

---

## ğŸ“Š API æ¥å£è¯´æ˜

### ç”¨æˆ·ç®¡ç† API

- `GET /api/v1/admin/users` - è·å–ç”¨æˆ·åˆ—è¡¨
- `POST /api/v1/admin/users` - åˆ›å»ºç”¨æˆ·
- `PUT /api/v1/admin/users/{id}` - æ›´æ–°ç”¨æˆ·
- `DELETE /api/v1/admin/users/{id}` - åˆ é™¤ç”¨æˆ·
- `POST /api/v1/admin/users/{id}/reset-password` - é‡ç½®å¯†ç 

### è§’è‰²ç®¡ç† API

- `GET /api/v1/admin/roles` - è·å–è§’è‰²åˆ—è¡¨
- `POST /api/v1/admin/roles` - åˆ›å»ºè§’è‰²
- `PUT /api/v1/admin/roles/{id}` - æ›´æ–°è§’è‰²
- `DELETE /api/v1/admin/roles/{id}` - åˆ é™¤è§’è‰²
- `POST /api/v1/admin/roles/{id}/permissions` - ç»‘å®šæƒé™
- `POST /api/v1/admin/roles/{id}/menus` - ç»‘å®šèœå•

### æƒé™ç®¡ç† API

- `GET /api/v1/admin/permissions` - è·å–æƒé™åˆ—è¡¨
- `POST /api/v1/admin/permissions` - åˆ›å»ºæƒé™
- `PUT /api/v1/admin/permissions/{id}` - æ›´æ–°æƒé™
- `DELETE /api/v1/admin/permissions/{id}` - åˆ é™¤æƒé™

### èœå•ç®¡ç† API

- `GET /api/v1/admin/menus/tree` - è·å–èœå•æ ‘
- `POST /api/v1/admin/menus` - åˆ›å»ºèœå•
- `PUT /api/v1/admin/menus/{id}` - æ›´æ–°èœå•
- `DELETE /api/v1/admin/menus/{id}` - åˆ é™¤èœå•

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æƒé™æ§åˆ¶**: æ‰€æœ‰æ“ä½œæŒ‰é’®éƒ½ä½¿ç”¨ `v-perm` æŒ‡ä»¤æ§åˆ¶æ˜¾ç¤º
2. **æ•°æ®éªŒè¯**: è¡¨å•æäº¤å‰è¿›è¡ŒéªŒè¯
3. **é”™è¯¯å¤„ç†**: æ‰€æœ‰ API è°ƒç”¨éƒ½æœ‰é”™è¯¯å¤„ç†
4. **ç”¨æˆ·åé¦ˆ**: æ“ä½œæˆåŠŸ/å¤±è´¥éƒ½æœ‰æç¤ºä¿¡æ¯
5. **ç¡®è®¤æ“ä½œ**: åˆ é™¤ç­‰å±é™©æ“ä½œéœ€è¦äºŒæ¬¡ç¡®è®¤

---

## ğŸ”„ ä¸‹ä¸€æ­¥

1. âœ… å®ç°åç«¯å¯¹åº”çš„ API æ¥å£
2. âœ… æµ‹è¯•æ‰€æœ‰é¡µé¢åŠŸèƒ½
3. âœ… ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
4. âœ… æ·»åŠ æ›´å¤šä¸šåŠ¡é¡µé¢
